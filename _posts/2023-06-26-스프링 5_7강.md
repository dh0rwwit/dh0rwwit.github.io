---
title: 5~7. 비즈니스 요구사항
author: dh0rwwit
date: 2023-06-26 00:00:00 +2300
categories: [Language/Framework,Others(JAVA+Spring+C)]
tags: [Spring]
render_with_liquid: false
---

## 1
---
웹 어플리케이션의 데이터는 <br>
컨트롤러-> 서비스-> 레포지토리 -> DB <br>
의 흐름을 따른다. <br>
- 컨트롤러 : 웹 MVC패턴의 컨트롤러 <br>
- 서비스 : 비즈니스 로직 <br>
- 레포지토리 : 도메인 객체를 DB에 저장하고 관리함 <br>
- 도메인 : 비즈니스 도메인 객체(회원,주문,쿠폰 등 DB에 저장하고 관리됨) <br>
 <br>
   

데이터 : 회원ID, 이름 <br>
기능 : 회원 등록, 조회 <br>
을 바탕으로 간단한 웹 서버 구축 및 스프링 돌아가는 원리 이해하기 <br>
![Desktop View](/assets/img/스프링강의사진/사진 30.png){: .normal }
데이터 저장소가 선정되지 않음. <br>
또한 MemberReository는 데이터 저장소가 선정되지 않았으므로 <br>
인터페이스로 구현클래스를 변경할 수 있도록 설계한다. <br>
 <br>
 <br>
. 회원도메인과 레포지토리 만들기 <br>
![Desktop View](/assets/img/스프링강의사진/사진 31.png){: .normal }
컨트롤러에 Domain패키지생성 <br>
패키지 폴더안에 Member.java 클래프 파일을 생성한다. <br>
회원정보 컨트롤을 위한 파일이다. <br>
회원정보인 id,name등을 선언한다. <br>
![Desktop View](/assets/img/스프링강의사진/사진 32.png){: .normal }
그리고 alt+insert 단축키를 눌러 id 및 name의 getter/setter를 생성해준다 <br>
 <br>
Repository패키지를 생성한다. <br>
![Desktop View](/assets/img/스프링강의사진/사진 33.png){: .normal }
![Desktop View](/assets/img/스프링강의사진/사진 33_1.png){: .normal }
그리고 그 안에 Memberrepository.java를 인터페이스형식으로 생성한다. <br>
![Desktop View](/assets/img/스프링강의사진/사진 34.png){: .normal }
![Desktop View](/assets/img/스프링강의사진/사진 35.png){: .normal }
Member클래스의 객체변수 save를 생성하는데, Member클래스를 이용할 수 있도록 <br>
domain폴더안에 있는 Member파일을 import한다. <br>
(Member에 커서를 대고 ctrl+spacebar를 누르면 선택할 수 있다.) <br>
![Desktop View](/assets/img/스프링강의사진/사진 36.png){: .normal }
나머지 코드들도 아래와 같이 작성한다. <br>
![Desktop View](/assets/img/스프링강의사진/사진 37.png){: .normal }
Optional은 Null처리를 위한 한 가지 방법이다. <br>
 <br>
추가로 MemoryMemberRepository라는 이름의 java class파일을 생성한다. <br>
![Desktop View](/assets/img/스프링강의사진/사진 39.png){: .normal }
MemoryMemberRepository는 MemberRepository를 인터페이스로 사용하는 클래스이므로 <br>
![Desktop View](/assets/img/스프링강의사진/사진 40.png){: .normal }
![Desktop View](/assets/img/스프링강의사진/사진 41.png){: .normal }

## 2
---
MemoryMemberRepository.java의 <br>
전체적인 코드는 아래와 같이 된다. <br>

<div class="colorscripter-code" style="color:#F2E1E1;font-family:Consolas,font-size:'20px' ,'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas,font-size:'20px' ,'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F2E1E1;font-family:Consolas,font-size:'20px' ,'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><font color="#4A8FE6">package</font>&nbsp;dh0rwwit_Spring.com.dh0rwwit_Spring.repository;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><font color="#4A8FE6">import</font>&nbsp;dh0rwwit_Spring.com.dh0rwwit_Spring.domain.Member;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><font color="#4A8FE6">import</font>&nbsp;java.util.<font color="#33B3B3"></font><font color="#4A8FE6">*</font>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><font color="#4A8FE6">public</font>&nbsp;<font color="#4A8FE6">class</font>&nbsp;MemoryMemberRepository&nbsp;<font color="#4A8FE6">implements</font>&nbsp;MemberRepository&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4A8FE6">private</font>&nbsp;<font color="#4A8FE6">static</font>&nbsp;Map<font color="#33B3B3"></font><font color="#4A8FE6">&lt;</font>Long,&nbsp;Member<font color="#33B3B3"></font><font color="#4A8FE6">&gt;</font>&nbsp;store&nbsp;<font color="#33B3B3"></font><font color="#4A8FE6">=</font>&nbsp;<font color="#4A8FE6">new</font>&nbsp;HashMap<font color="#33B3B3"></font><font color="#4A8FE6">&lt;</font><font color="#33B3B3"></font><font color="#4A8FE6">&gt;</font>();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4A8FE6">private</font>&nbsp;<font color="#4A8FE6">static</font>&nbsp;<font color="#4C99F4">long</font>&nbsp;sequence&nbsp;<font color="#33B3B3"></font><font color="#4A8FE6">=</font>&nbsp;0L;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;@Override</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4A8FE6">public</font>&nbsp;Member&nbsp;save(Member&nbsp;member)&nbsp;{&nbsp;<font color="#70DE7C">//&nbsp;id저장&nbsp;작업을&nbsp;함</font></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;member.setId(<font color="#33B3B3"></font><font color="#4A8FE6">+</font><font color="#33B3B3"></font><font color="#4A8FE6">+</font>sequence);&nbsp;<font color="#70DE7C">//&nbsp;setID할&nbsp;때&nbsp;sequence&nbsp;값&nbsp;+1</font></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;store.put(member.getId(),&nbsp;member);&nbsp;<font color="#70DE7C">//&nbsp;store를&nbsp;통해&nbsp;hashmap에&nbsp;저장</font></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4A8FE6">return</font>&nbsp;member;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;@Override</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4A8FE6">public</font>&nbsp;Optional<font color="#33B3B3"></font><font color="#4A8FE6">&lt;</font>Member<font color="#33B3B3"></font><font color="#4A8FE6">&gt;</font>&nbsp;findByID(Long&nbsp;id)&nbsp;{&nbsp;<font color="#70DE7C">//&nbsp;id를&nbsp;꺼내는&nbsp;작업을&nbsp;함</font></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4A8FE6">return</font>&nbsp;Optional.ofNullable(store.get(id));</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#70DE7C">//&nbsp;id가&nbsp;Null값으로&nbsp;올&nbsp;수&nbsp;있으므로&nbsp;optional을&nbsp;사용</font></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;@Override</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4A8FE6">public</font>&nbsp;Optional<font color="#33B3B3"></font><font color="#4A8FE6">&lt;</font>Member<font color="#33B3B3"></font><font color="#4A8FE6">&gt;</font>&nbsp;findByName(<font color="#4C99F4">String</font>&nbsp;name)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4A8FE6">return</font>&nbsp;store.values().stream()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.filter(member&nbsp;<font color="#33B3B3"></font><font color="#4A8FE6">-</font><font color="#33B3B3"></font><font color="#4A8FE6">&gt;</font>&nbsp;member.getName().<font color="#4C99F4">equals</font>(name))&nbsp;<font color="#70DE7C">//</font></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.findAny();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;@Override</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4A8FE6">public</font>&nbsp;List<font color="#33B3B3"></font><font color="#4A8FE6">&lt;</font>Member<font color="#33B3B3"></font><font color="#4A8FE6">&gt;</font>&nbsp;findAll()&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4A8FE6">return</font>&nbsp;<font color="#4A8FE6">new</font>&nbsp;ArrayList<font color="#33B3B3"></font><font color="#4A8FE6">&lt;</font><font color="#33B3B3"></font><font color="#4A8FE6">&gt;</font>(store.values());</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;@Override</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4A8FE6">public</font>&nbsp;<font color="#4A8FE6">void</font>&nbsp;clearstore()&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;store.clear();&nbsp;<font color="#70DE7C">//&nbsp;Test패키지에서&nbsp;사용</font></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"></td></tr></table></div>